<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>SOC-CERT Security Analysis</title>

  <style>
    /* CSS */
    body {
      width: 400px;
      height: 500px;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f0c29 0%, #231b50 100%);
      
      color: white;
    }
    .container { padding: 20px; }
    .header { text-align: center; margin-bottom: 20px; }
    .status { 
      background: rgba(255,255,255,0.1); 
      padding: 10px; 
      border-radius: 8px; 
      margin-bottom: 15px;
      font-size: 12px;
    }
    
    
    .analysis-status {
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 15px;
      border-left: 4px solid #4fc3f7;
    }
    
    .api-status-item {
      display: flex;
      align-items: center;
      margin: 8px 0;
      padding: 5px;
      border-radius: 5px;
      background: rgba(255,255,255,0.05);
      transition: all 0.3s ease;
    }
    
    .api-status-item.active {
      background: rgba(76, 175, 80, 0.2);
      border-left: 3px solid #4caf50;
    }
    
    .api-status-item.completed {
      background: rgba(76, 175, 80, 0.3);
      border-left: 3px solid #4caf50;
    }
    
    .api-icon {
      margin-right: 10px;
      font-size: 16px;
    }
    
    .api-name {
      flex: 1;
      font-size: 12px;
    }
    
    .api-status {
      font-size: 10px;
      opacity: 0.8;
    }
    
    .progress-container {
      margin: 15px 0;
    }
    
    .progress-bar {
      height: 6px;
      background: rgba(255,255,255,0.2);
      border-radius: 3px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #4fc3f7, #66bb6a);
      width: 0%;
      transition: width 0.5s ease;
    }
    
    .progress-text {
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      margin-top: 5px;
    }
    
    .analyzing-url {
      font-size: 11px;
      opacity: 0.8;
      text-align: center;
      margin: 10px 0;
      word-break: break-all;
    }
    
    .time-indicator {
      text-align: center;
      font-size: 11px;
      opacity: 0.7;
      margin-top: 10px;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }
    
    .pulse {
      animation: pulse 1.5s infinite;
    }
    
    /* Translation styles */
    .translation-box {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.15));
      border-left: 3px solid #667eea;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 8px;
    }
    
    .translation-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .translation-title {
      font-weight: 600;
      font-size: 11px;
      color: #a5b4fc;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .restore-btn {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .restore-btn:hover {
      background: rgba(255,255,255,0.2);
      border-color: rgba(255,255,255,0.4);
    }
    
    .translation-content {
      line-height: 1.6;
      color: #e0e7ff;
      font-size: 12px;
    }
    
    .translate-mini-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .translate-mini-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(102, 126, 234, 0.4);
    }
    
    .translate-mini-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    #translate-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(102, 126, 234, 0.4);
    }
    

  </style>
    <link rel="stylesheet" href="popup.css">

</head>
<body>
  <div class="container">
    <div class="header">
      <h2>üîí SOC-CERT Guardian</h2>
      <p>AI-Powered Security Analysis</p>
    </div>
    
    
    <div id="analysis-status" class="analysis-status" style="display: none;">
      <div style="text-align: center; margin-bottom: 15px;">
        <div style="font-size: 24px; margin-bottom: 5px;" class="pulse">üîç</div>
        <div style="font-weight: bold; color: #4fc3f7;">Analyzing Page Security</div>
        <div id="analyzing-url" class="analyzing-url">
          Loading URL...
        </div>
      </div>

      <!-- progression bar -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text">
          <span>Initial Analysis</span>
          <span id="progress-percent">0%</span>
        </div>
      </div>

      <!-- Status  APIs Chrome AI -->
      <div style="margin-bottom: 10px;">
        <div style="font-weight: bold; margin-bottom: 8px; color: #66bb6a;">
          ü§ñ Chrome AI APIs Status:
        </div>
        <div id="api-status">
          <div class="api-status-item" id="api-gemini">
            <span class="api-icon">üß†</span>
            <span class="api-name">Gemini Nano</span>
            <span class="api-status">Initializing...</span>
          </div>
          <div class="api-status-item" id="api-summarizer">
            <span class="api-icon">üìù</span>
            <span class="api-name">Summarizer</span>
            <span class="api-status">Waiting...</span>
          </div>
          <div class="api-status-item" id="api-writer">
            <span class="api-icon">‚úçÔ∏è</span>
            <span class="api-name">Writer</span>
            <span class="api-status">Ready</span>
          </div>
          <div class="api-status-item" id="api-translator">
            <span class="api-icon">üåê</span>
            <span class="api-name">Translator</span>
            <span class="api-status">Standby</span>
          </div>
          <div class="api-status-item" id="api-proofreader">
            <span class="api-icon">‚úÖ</span>
            <span class="api-name">Proofreader</span>
            <span class="api-status">Ready</span>
          </div>
        </div>
      </div>

    

      </div>

      <!-- Time indicator - Hidden by default, shown after analysis -->
      <div class="time-indicator" id="time-indicator" style="display: none;">
      </div>
    </div>
    
    <div class="status" id="status">
      <span class="popup-spinner">‚è≥</span>
      Initializing security analysis...
  </div>
    
    <div id="analysis-content">
      <!-- dashboard -->
    </div>

    <!-- üåê TRANSLATION SECTION -->
    <div id="translation-section" style="margin-top: 15px; padding: 12px; background: rgba(0,200,255,0.08); border-radius: 8px; border-left: 3px solid #00c8ff; display: none;">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
        <div style="display: flex; align-items: center; gap: 8px;">
          <span style="font-size: 16px;">üåê</span>
          <strong style="font-size: 13px;">Translate Analysis</strong>
        </div>
        <select id="lang-select" style="padding: 4px 8px; background: rgba(0,0,0,0.3); color: white; border: 1px solid rgba(255,255,255,0.2); border-radius: 4px; font-size: 11px; cursor: pointer;">
          <!-- Populated by JS -->
        </select>
      </div>
      <button id="translate-btn" style="width: 100%; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 6px; font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
        üåê Translate Full Analysis
      </button>
      <div id="translated-result" style="display: none; margin-top: 10px; padding: 10px; background: rgba(0,0,0,0.3); border-radius: 6px; font-size: 11px; line-height: 1.5; max-height: 200px; overflow-y: auto;">
        <!-- Translation will appear here -->
      </div>
    </div>

<!-- ‚úÖ STATISTIQUES VIRTULS CVE-->
<div class="stats-dashboard" id="virtual-cve-stats">
  <div class="stats-header">
    <h3>üìä Virtual CVE Intelligence</h3>
    <p class="stats-subtitle">Real-time emerging threat tracking</p>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">üîÆ</div>
      <div class="stat-value" id="total-virtual-cves">-</div>
      <div class="stat-label">Virtual CVEs Created</div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">üö®</div>
      <div class="stat-value" id="threats-24h">-</div>
      <div class="stat-label">Threats Detected (24h)</div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">‚ö°</div>
      <div class="stat-value" id="avg-detection-time">2.3s</div>
      <div class="stat-label">Avg Detection Time</div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">üéØ</div>
      <div class="stat-value" id="avg-confidence">-</div>
      <div class="stat-label">AI Confidence</div>
    </div>
  </div>
</div>


    
  </div>


  <!-- scripts -->
  <script src="ai-mock.js"></script>
  <script src="ai-helper.js"></script>
  <script src="popup.js"></script>
</body>
<footer
  style="
    position: fixed;
    bottom: 6px;           /* üîπ remonte un peu le footer */
    left: 0;
    width: 100%;
    text-align: center;
    font-size: 10px;
    color: #aaa;
    background: rgba(0, 0, 0, 0.3); /* üîπ l√©g√®re bande de contraste */
    padding: 6px 0;                /* üîπ un peu d‚Äôair autour du texte */
    z-index: 9999;
  "
>
  üîí SOC-CERT Guardian v1.0 ‚Äî <span style="color:#FF9800;">AI Agents Challenge Submission</span>
</footer>
</html>